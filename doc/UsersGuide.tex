\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage{xcolor}
\usepackage[T1]{fontenc}
\usepackage[bitstream-charter]{mathdesign}

\usepackage{amsmath}
\usepackage{url}
%\usepackage{tikz}
%\usetikzlibrary{shapes,arrows,decorations.markings}
\usepackage{verbatim}
\usepackage[bottom,symbol]{footmisc}
\usepackage{minted}
\usemintedstyle{manni}
\definecolor{bg}{rgb}{0.95, 0.95, 0.95}
\newminted[sage]{pycon}{bgcolor=bg, xleftmargin=10pt}

\definecolor{flagcolor}{HTML}{005B9C}
\definecolor{excolor}{HTML}{6B6B6B}

\usepackage{lastpage} % for the number of the last page in the document
\usepackage{geometry}
\geometry{includehead, includefoot, left=30mm, right=30mm, top=30mm, bottom=30mm}
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\lhead{\color{flagcolor} Flagmatic User's Guide}
\rhead{\color{flagcolor} version 1.5}
\lfoot{}
\rfoot{}
\cfoot{\color{flagcolor} page \thepage\ of \pageref*{LastPage}}

\renewcommand{\headrulewidth}{1pt}
%\renewcommand{\footrulewidth}{1pt}

\renewcommand{\footrule}{{\color{flagcolor}%
  \hrule width\headwidth height\headrulewidth \vskip \headrulewidth}}

\renewcommand{\headrule}{{\color{flagcolor}%
  \hrule width\headwidth height\headrulewidth \vskip-\headrulewidth}}

\let\temptt\texttt
\renewcommand\texttt[1]{{\color{excolor} \temptt{#1}}}

\providecommand{\flagmatic}{Flagmatic}
\providecommand{\flagmatics}{Flagmatic's}
\providecommand{\flagmaticexe}{flagmatic}
\providecommand{\csdp}{csdp}
\providecommand{\sdpa}{sdpa}
\providecommand{\numpy}{numpy}
\providecommand{\sympy}{sympy}
\providecommand{\sage}{Sage}
\DeclareMathOperator{\ex}{ex}

\usepackage{sectsty}

\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}

\usepackage[breaklinks=false,pagebackref=true,unicode=true,pdfborder={0 0 0},colorlinks=true,citecolor=flagcolor, urlcolor=flagcolor]{hyperref}

\makeatletter
\g@addto@macro\@verbatim{\small\color{excolor}}
\makeatother

\sectionfont{\color{flagcolor} \sectionrule{3ex}{0pt}{-1ex}{1pt}}
\subsectionfont{\color{flagcolor}}

\title{\color{flagcolor} Flagmatic User's Guide}
\author{
Emil R. Vaughan\thanks{School of Electronic Engineering and Computer Science, Queen Mary, University of London. Email: \url{e.vaughan@qmul.ac.uk}} \\
}
\date{Version 2.0 \\ \ \\ \today}

\begin{document}

\maketitle

\begin{center}
\emph{A tool for researchers in extremal graph theory.} 
\end{center}

\section{Introduction} \label{intro}

\flagmatic\ implements the semi-definite method, part of the flag algebra calculus introduced by Razborov [CITE]. First, let us define the concept of \emph{Tur\'an $H$-density}.

Let $H$ be an $r$-graph on $h$ vertices. Then for a set of $r$-graphs $\mathcal{F}$, the \emph{Tur\'an $H$-density} of $\mathcal{F}$ is defined as
\[\pi_{H}(\mathcal{F})= \lim_{n\rightarrow \infty}\frac{\ex_{H}(n, \mathcal{F})}{\binom{n}{h}}, \]
where $\ex_{H}(n, \mathcal{F})$ is the maximum number of induced copies of $H$ that an $\mathcal{F}$-free $r$-graph on $n$ vertices can contain.

Note that this definition also works for \emph{oriented} $r$-graphs.

\flagmatic\ is typically used to give upper bounds on Tur\'an $H$-densities. Sometimes a construction may be known that gives a lower bound equal to the upper bound found by Flagmatic, and in this situation, \flagmatic\ can be used to obtain exact values of $\pi_{H}(\mathcal{F})$. 

\flagmatic\ can also be used to investigate some other types of problems. In fact, some of its features are not currently documented! This is, of course, a temporary situation caused by the developer not having enough time.

\flagmatic\ can (currently) work on $2$-graph, $3$-graph and oriented $2$-graph problems. It is the intention of the developer to, over time, add support for other kinds of problems. In fact \flagmatic\ 2.0 is a ground-up rewrite of \flagmatic\ 1.0, written with extensibility in mind. \flagmatic\ 2.0 is also the first version of \flagmatic\ that runs entirely within the Sage mathematics system.

\flagmatic\ is not hard to use, but it is highly recommended that new users spend some time reading this document and studying the examples provided.

\begin{sage}
sage: problem = ThreeGraphProblem(6, forbid=(4,4), forbid_induced=(4,1))
sage: construction = ThreeGraphBlowupConstruction("3:112223331123")
sage: problem.set_extremal_construction(construction)
sage: problem.solve_sdp()
sage: problem.make_exact()
\end{sage}


\section{Flags}

The most basic kind of object used by \flagmatic\ is the Flag. Flags come in different kinds, the most common being GraphFlag, ThreeGraphFlag and OrientedGraphFlag. We shall look here at GraphFlags, but the other kinds behave similarly.

A GraphFlag is a graph where some of the vertices are marked as being ``fixed''. The vertices are always called $1, \dots, n$ for some $n \ge 0$, and the ``fixed'' vertices are always $1, \dots, k$ for some $k \ge 0$. To begin with, we shall look at graphs that have no fixed vertices (i.{e} $k=0$). A GraphFlag can be created by calling the \verb|GraphFlag| constructor. For example, the following creates a graph with two vertices joined by an edge:

\begin{sage}
sage: G = GraphFlag("2:12")
\end{sage}

The notation is simply the number of vertices, followed by a colon, followed by a list of edges. The following creates a triangle:

\begin{sage}
sage: G = GraphFlag("3:122331")
\end{sage}

Specifying an integer to the constructor creates an empty graph. For example the following 
creates a graph on four vertices with no edges:

\begin{sage}
sage: G = GraphFlag(4)
\end{sage}

We can then add edges to \verb|G| using the \verb|add_edge| method:

\begin{sage}
sage: G.add_edge((1,2))
sage: G.add_edge((3,4))
sage: G
4:1234
\end{sage}

Edges can be removed with the \verb|delete_edge| method:

\begin{sage}
sage: G.delete_edge((3,4))
sage: G
4:12
\end{sage}

GraphFlags can also be created from native Sage graphs, by providing the constructor with a Sage Graph object. For example, we can create the Petersen graph as follows:

\begin{sage}
sage: G=GraphFlag(graphs.PetersenGraph())
sage: G
a:1215162327343845495a6869797a8a
\end{sage}

Note that the graph is displayed in a slightly odd way: the vertices are represented by $1$, $\dots,$ $9$, $a$, and the number of vertices by ``a''. Fortunately, we can display the edges in a more friendly way by using the \verb|edges| property:

\begin{sage}
sage: G.edges
((1, 2), (1, 5), (1, 6), (2, 3), (2, 7), (3, 4), (3, 8), (4, 5), (4, 9),
(5, 10), (6, 8), (6, 9), (7, 9), (7, 10), (8, 10))
\end{sage}

GraphFlag objects also provide an iterator, which gives the edges:

\begin{sage}
sage: [edge for edge in G]
[(1, 2), (1, 5), (1, 6), (2, 3), (2, 7), (3, 4), (3, 8), (4, 5), (4, 9),
(5, 10), (6, 8), (6, 9), (7, 9), (7, 10), (8, 10)]
\end{sage}

GraphFlags can be compared with the equality operator, which returns \verb|True| if the graphs are isomorphic. The \verb|is_labelled_isomorphic| method can be used to tell if graphs are \emph{labelled isomorphic}. For example:

\begin{sage}
sage: G = GraphFlag("5:1223344551")
sage: H = GraphFlag(graphs.CycleGraph(5))
sage: G == H
True
sage: G.is_labelled_isomorphic(H)
False
\end{sage}

Here the second test returned \verb|False|, since Sage's 5-cycle is labelled differently to the one that we created:

\begin{sage}
sage: G
5:1223344551
sage: H
5:1215233445
\end{sage}


\section{Redistribution of flagmatic} \label{license}

\emph{There are no restrictions on the use of flagmatic, and no license is required to use it.}

The developer grants the right of redistribution of the software under the conditions of the following license (based on the 2-clause BSD license). To summarize, \emph{redistribution in source and binary form, with or without modification, is permitted, but credit must be given}.

\begin{quote}
Copyright (c) 2011, E. R. Vaughan. All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

1) Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

2) Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation and/or
other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
\end{quote}

\newpage

\begin{thebibliography}{10}

\bibitem{BT} R. Baber and J. Talbot, Hypergraphs do jump, \emph{Combin. Probab. Comput.} \textbf{20} (2011), 161--171. \\ %\url{http://dx.doi.org/10.1017/S0963548310000222} (journal) \ and  
\url{http://arxiv.org/abs/1004.3733}

\bibitem{dC} D. de Caen, Extension of a theorem of Moon and Moser on complete subgraphs, \emph{Ars Combin.} \textbf{16} (1983), 5--10.

%\bibitem{dCF} D. de Caen and Z. FÃ¼redi, The maximum size of 3-uniform hypergraphs not %containing a Fano plane. \emph{J. Combin. Theory Ser. B} \textbf{78} (2000), 274--276. \\
%\url{http://dx.doi.org/10.1006/jctb.1999.1938} (journal) and
%\url{http://www.math.uiuc.edu/~z-furedi/PUBS/furedi_decaen_fano.pdf}

\bibitem{FRV} V. Falgas-Ravry and E. R. Vaughan, On applications of Razborov's flag algebra calculus to extremal 3-graph theory, preprint (2011). \\
\url{http://arxiv.org/abs/1110.1623}

\bibitem{FRV2} V. Falgas-Ravry and E. R. Vaughan, TurÃ¡n $H$-densities for 3-graphs, preprint (2012). \\
\url{http://arxiv.org/abs/1201.4326}

%\bibitem{FF} P. Frankl and Z. FÃ¼redi, An exact result for 3-graphs, \emph{Discrete Math.} \textbf{50} (1984), 323--328. \\ %\url{http://dx.doi.org/10.1016/0012-365X(84)90058-X} (journal) 
%\url{http://www.math.uiuc.edu/~z-furedi/PUBS/furedi_frankl_exact-3-graphs.pdf}

%\bibitem{FPS} Z. FÃ¼redi, O. Pikhurko and M. Simonovits, The TurÃ¡n Density of the Hypergraph \{abc,ade,bde,cde\}, \textit{Electron. J. Combin.} \textbf{10} (2003), R18. \\ \url{http://www.combinatorics.org/Volume_10/PDF/v10i1r18.pdf}

\bibitem{grzesik} A. Grzesik, On the maximum number of $C_5$'s in a triangle-free graph, preprint, 2011. \\ \url{http://arxiv.org/abs/1102.0962}

\bibitem{hhknr} H. Hatami, J. HladkÃ½, D. KrÃ¡l, S. Norine, A. Razborov, On the Number of Pentagons in Triangle-Free Graphs, preprint, 2011. \\
\url{http://arxiv.org/abs/1102.1634}

\bibitem{K} P. Keevash, Hypergraph TurÃ¡n Problems, \emph{Surveys in Combinatorics 2011}, Springer, 2011. \\
\url{http://www.maths.qmul.ac.uk/~keevash/papers/turan-survey.pdf}

\bibitem{MR} D. Mubayi and V. R\"odl, On the Tur\'an number of triple systems, \emph{J. Combin. Theory Ser. A} \textbf{100} (2002), 136--152. \\
\url{http://homepages.math.uic.edu/~mubayi/papers/hypturan.pdf}

\bibitem{R07} A. A. Razborov, Flag algebras, \emph{J. Symbolic Logic} \textbf{72} (2007), 1239--1282. \\ %\url{http://dx.doi.org/10.2178/jsl/1203350785} (journal) and 
\url{http://people.cs.uchicago.edu/~razborov/files/flag.pdf}

\bibitem{R10} A. A. Razborov, On 3-hypergraphs with forbidden 4-vertex configurations, \emph{SIAM J. Discrete Math.} \textbf{24} (2010), 946--963. \\ %\url{http://dx.doi.org/10.1137/090747476} (journal) and
\url{http://people.cs.uchicago.edu/~razborov/files/turan.pdf}

\end{thebibliography}

\end{document}
